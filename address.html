<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>    <link rel="stylesheet" href="address.css">
    <link rel="icon" href="starbucks_logo_icon_170704.ico" />
    <link rel="apple-touch-icon" href="starbucks_logo_icon_170704.png" />
    <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css" integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous"/>
</head>
<body>
    <div class="back"><a href="menu.html"><i class="fas fa-arrow-circle-left fa-2x"></i></a></div>
    <div class="container">
        <div class="window">
            <div class='order-info'>
                <div class='order-info-content'>
                <div class="add-table">
                    <img src="kart.jpg" alt="" height="540" width="400">
                    <!-- <input type="text"  placeholder="address"><br>
                    <input type="text" placeholder="pincode"><br>
                    <input type="text" placeholder="mobile number"> -->


                </div>
        </div>
    </div>


    <div class='credit-info'>
      <!-- <h2>Address</h2><br> -->
      <div class='input-field'>
        Name
        <input class='input-field' id="name">
      
      <div class='credit-info-content'>
        Address
      
        <input class='input-field' id="address">
        <table class='half-input-table'>
          <tr>
            <td> pincode
              <input class='input-field' id="pincode">
            </td>
            <td>Mobile no.
              <input class='input-field' id="number">
            </td>
          </tr>
          <div class='input-field'>
            Email
            <input class='input-field' id="email">
        </table>
        <a href="cart.html">
        <button class='pay-btn' id="submit">Next</button>
      </a>
      </div>
    </div>
  </div>
</div>
<script type="module">

import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.1/firebase-app.js";
import { getDatabase, ref, set, get, child, push } from "https://www.gstatic.com/firebasejs/9.22.1/firebase-database.js";
import { getAuth, signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/9.22.1/firebase-auth.js";       
// Your web app's Firebase configuration
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        const firebaseConfig = {
        apiKey: "AIzaSyDDTh0IlHyo5yuzxSVv_6mjrxf-yA2Wc3g",
        authDomain: "deproject-a5bad.firebaseapp.com",
        projectId: "deproject-a5bad",
        storageBucket: "deproject-a5bad.appspot.com",
        messagingSenderId: "1092990927783",
        appId: "1:1092990927783:web:7785f1879af74ad31bac82",
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const database = getDatabase(app);

        document.getElementById('submit').addEventListener('click',(e)=>{
            e.preventDefault();
            console.log("started")
            var username = document.getElementById('name').value;
            var address = document.getElementById('address').value;
            var pincode = document.getElementById('pincode').value;
            var number = document.getElementById('number').value;
            var email = document.getElementById('email').value;


            set(ref(database, 'customers/' +  Math.random().toString(36).slice(2, 7)), {
                username: username,
                address: address,
                pincode: pincode,
                email: email,
                number : number
            }).then(() => {
            // Data saved successfully!
            alert("Saved")
            document.location.href="index.html";    

            })
            .catch((error) => {
            // The write failed...
            console.log(error);
            });
        })
        </script>
</body>
</html>